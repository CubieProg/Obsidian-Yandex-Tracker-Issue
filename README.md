
# Yandex Tracker Issue

Плагин отображения информации задач из Yandex Tracker в Obsidian.

---
## Обозначения

***YTI***: Yandex Tracker Issue. Сокращение обозначает собой данный плагин. Далее, YTI и Yandex Tracker Issue используются как синонимы.


---
## Быстрый старт

1. Получить *OAuth 2.0* токен. Для этого:
	1. Зарегистрируйте приложение в вашем Yandex Tracker: https://yandex.ru/dev/id/doc/ru/register-client#access-note
	2. Проследуйте инструкциям официального руководства: https://yandex.ru/support/tracker/ru/concepts/access#about_OAuth
	3. **Нужен именно OAuth токен! На данный момент, плагин не поддерживает IAM-токен!**
2. Получить *Org-Id* вашей организации. Это можно сделать, например, на странице организации в *Yandex Tracker*.
	1. **Нужен именно Org-Id. На данный момент, плагин не поддерживает Cloud-Org-Id!**
3. Открыть настройки плагина.
4. Ввести в поле *OAuth Token*, собственно, *OAuth 2.0* токен. В поле *Org ID* ввести *Org-Id*.
5. Найти какие-нибудь задачи в *Yandex Tracker*. Например, TASK-111, TASK-222.
6. В заметку в *Obsidian* добавить следующий блок кода (каждая задача с новой строки):
\`\`\`yt-issue
TASK-111
TASK-222
\`\`\`
7. Перейти в режим просмотра.

---

## Руководство пользователя

### Сущности

Плагин **YTI** оперирует несколькими сущностями:

1. **Issue** - задача из Yandex Tracker.
2. **Board** - доска
3. **Project** - проект
4. **Queue** - очередь
5. **Sprint** - спринт
6. **User** - пользователь

### Отображение

Далее приведены названия блоков кода для отображения сущностей.

1. **yt-gantt** - отображает размещённые в нём задачи в виде диаграммы Ганта. Помещать нужно Id задач.
2. **yt-issue** - отображает размещённые в нём задачи в виде таблицы. Помещать нужно Id задач.
3. **yt-gantt-query** - отображает размещённые в нём задачи в виде диаграммы Ганта. Помещать нужно Yandex Tracker запрос: https://yandex.ru/support/tracker/ru/user/query-filter
4. **yt-issue-query** - отображает размещённые в нём задачи в виде таблицы. Помещать нужно Yandex Tracker запрос: https://yandex.ru/support/tracker/ru/user/query-filter
5. **yt-boards** - отображает размещённые в нём доски в виде таблицы. Помещать нужно Id досок.
6. **yt-queues** - отображает размещённые в нём очереди в виде таблицы. Помещать нужно Id очередей.
7. **yt-projects** - отображает размещённые в нём проекты в виде таблицы. Помещать нужно Id проектов.
8. **yt-sprints** - отображает размещённые в нём спринты в виде таблицы. Помещать нужно Id спринтов.
9. **yt-users** - отображает размещённых в нём пользователей в виде таблицы. Помещать нужно логины пользователей. Например, если пользователя зовут Иванов Василий Максимович (ФИО придумано), то его логин в Yandex Tracker, скорее всего будет *vivanov*.

Колонки таблиц и их отображение можно задавать в настройках. Подробнее в разделе *"Настройки отображения"*.



---
## Настройки

### Настройки авторизации

1. **OAuth Token** - поле для вашего *OAuth* токена.
2. **Org ID** - поле для вашего *Org-Id*.
3. **Проверка подключения** - кнопка для проверки корректности ввода *OAuth* токена и *Org ID*.

### Настройки отображения

Далее, идут поля для ввода **атрибутов** сущностей. Что такое атрибуты подробно описано в разделе *Атрибуты*.

1. **Атрибуты задач** - атрибуты для отображения задач в блоках кода *yt-issue*, *yt-gantt*, *yt-issue-query*, *yt-gantt-query*.
2. **Атрибуты досок** - атрибуты для отображения досок в блоке кода *yt-boards*.
3. **Атрибуты проектов** - атрибуты для отображения досок в блоке кода *yt-projects*.
4. **Атрибуты очередей** - атрибуты для отображения досок в блоке кода *yt-queues*.
5. **Атрибуты спринтов** - атрибуты для отображения досок в блоке кода *yt-sprints*.
6. **Атрибуты пользователей** - атрибуты для отображения досок в блоке кода *yt-users*.

Также, в данном блоке есть следующие настройки:

1. **Статусы завершённых задач** - используются в диаграммах Ганта для определения завершена задача или нет.
2. **Сбросить настройки до стандартных** - сбрасывает настройки отображения до стандартных настроек, с которыми поставляется плагин **YTI**. При этом **настройки авторизации не изменяются!**
3. **Ререндер** - перерисовывает все блоки кода данного плагина.


---

## Атрибуты

Программный код плагина условно разделён на две части: запросы к Yandex Tracker для получения информации и отображение данной информации в виде таблиц и диаграмм.

Идея данного плагина следующая: из Yandex Tracker запрашивается (почти) вся информация о введённых сущностях, а отображается только то, что задано настройками.

Настройки отображения задаются атрибутами. Атрибуты есть у каждой сущности.

У некоторых сущностей есть сложные атрибуты. Например, у сущности **Issue** (задача) есть атрибут **assignee** (исполнитель), который сам является сущностью типа **User** (пользователь).

Для отображения таких сложных атрибутов есть атрибуты по умолчанию. Например, у пользователя - это его ФИО.

Также для каждого атрибута есть его сопоставление - читабельное название атрибута на русском языке. 

Далее пойдёт перечисление всех сущностей и их атрибутов

## Issue

Атрибут по умолчанию - summary

| Атрибут              | Сопоставление               | Тип                 | Сложный? | Атрибут по умолчанию  |
| -------------------- | --------------------------- | ------------------- | -------- | --------------------- |
| self                 | Адрес ресурса               | String              | Нет      |                       |
| id                   | Hash-ID задачи              | String              | Нет      |                       |
| key                  | ID задачи                   | String              | Нет      |                       |
| version              | Версия                      | Number              | Нет      |                       |
| summary              | Название                    | String              | Нет      |                       |
| aliases              | Альтернативные ключи        | String              | Нет      |                       |
| description          | Описание                    | String              | Нет      |                       |
| votes                | Голоса                      | String              | Нет      |                       |
| favorite             | Избрана                     | String              | Нет      |                       |
| tags                 | Тэги                        | String              | Нет      |                       |
| lastCommentUpdatedAt | Дата последнего комментария | DateTime            | Нет      |                       |
| createdAt            | Дата создания               | DateTime            | Нет      |                       |
| updatedAt            | Дата обновления             | DateTime            | Нет      |                       |
| status               | Статус                      | вспомогательный тип | Да       | display               |
| priority             | Приоритет                   | вспомогательный тип | Да       | display               |
| previousStatus       | Предыдущий статус           | вспомогательный тип | Да       | display               |
| type                 | Тип                         | вспомогательный тип | Да       | display               |
| updatedBy            | Последний редактор          | User                | Да       | display               |
| followers            | Наблюдатели                 | вспомогательный тип | Да       | display, display, ... |
| createdBy            | Созатель                    | User                | Да       | display               |
| assignee             | Исполнитель                 | User                | Да       | display               |
| project              | Проект                      | Project             | Да       | name                  |
| queue                | Очередь                     | Queue               | Да       | name                  |
| parent               | Родеительская задача        | Issue               | Да       | summary               |
| sprint               | Спринт                      | Sprint              | Да       | name                  |

## Board

Атрибут по умолчанию - name

| Атрибут      | Сопоставление              | Тип                 | Сложный? | Атрибут по умолчанию  |
| ------------ | -------------------------- | ------------------- | -------- | --------------------- |
| self         | Адрес ресурса              | String              | Нет      |                       |
| id           | ID доски                   | String              | Нет      |                       |
| version      | Версия                     | String              | Нет      |                       |
| name         | Название доски             | String              | Нет      |                       |
| filter       | Фильтр                     | String              | Нет      |                       |
| orderBy      | Сортировка                 | String              | Нет      |                       |
| orderAsc     | Направление сортировки     | String              | Нет      |                       |
| query        | Запрос                     | String              | Нет      |                       |
| useRanking   | Возможность менять порядок | String              | Нет      |                       |
| estimateBy   | Оценивание                 | String              | Нет      |                       |
| country      | Страна                     | String              | Нет      |                       |
| defaultQueue | Очередь по умолчанию       | String              | Нет      |                       |
| calendar     | Календарь                  | String              | Нет      |                       |
| columns      | Колонки                    | вспомогательный тип | Да       | display, display, ... |

## Project

Атрибут по умолчанию - name

| Атрибут     | Сопоставление  | Тип      | Сложный? | Атрибут по умолчанию |
| ----------- | -------------- | -------- | -------- | -------------------- |
| description | Описание       | String   | Нет      |                      |
| key         | Название       | String   | Нет      |                      |
| name        | Название       | String   | Нет      |                      |
| self        | Адрес ресурса  | String   | Нет      |                      |
| status      | Статус         | String   | Нет      |                      |
| id          | ID проекта     | Number   | Нет      |                      |
| version     | Версия         | Number   | Нет      |                      |
| startDate   | Дата начала    | DateTime | Нет      |                      |
| endDate     | Дата окончания | DateTime | Нет      |                      |
| lead        | Руководитель   | User     | Да       | display              |

## Queue

Атрибут по умолчанию - name

| Атрибут          | Сопоставление              | Тип                 | Сложный? | Атрибут по умолчанию  |
| ---------------- | -------------------------- | ------------------- | -------- | --------------------- |
| self             | Адрес ресурса              | String              | Нет      |                       |
| id               | ID очереди                 | String              | Нет      |                       |
| key              | ID очереди                 | String              | Нет      |                       |
| name             | Название                   | String              | Нет      |                       |
| description      | Описание                   | String              | Нет      |                       |
| version          | Версия                     | Number              | Нет      |                       |
| assignAuto       | Автоназначение исполнителя | Boolean             | Нет      |                       |
| denyVoting       | Можно голосовать           | Boolean             | Нет      |                       |
| defaultType      | Тип задач по умолчанию     | вспомогательный тип | Да       | display               |
| issueTypes       | Типы задач                 | вспомогательный тип | Да       | display, display, ... |
| workflows        | Жизненные циклы            | вспомогательный тип | Да       | display, display, ... |
| defaultPriority  | Приоритет по умолчанию     | вспомогательный тип | Да       | display               |
| issueTypesConfig | Настройки типов задач      | вспомогательный тип | Да       | display, display, ... |
| lead             | Руководитель               | User                | Да       | display               |
| teamUsers        | Команда                    | вспомогательный тип | Да       | display, display, ... |

## Sprint

Атрибут по умолчанию - name

| Атрибут       | Сопоставление  | Тип      | Сложный? | Атрибут по умолчанию |
| ------------- | -------------- | -------- | -------- | -------------------- |
| self          | Адрес ресурса  | String   | Нет      |                      |
| name          | Название       | String   | Нет      |                      |
| status        | Статус         | String   | Нет      |                      |
| version       | Версия         | Number   | Нет      |                      |
| id            | ID Спринта     | Number   | Нет      |                      |
| archived      | Архивирован    | Boolean  | Нет      |                      |
| endDate       | Дата окончания | DateTime | Нет      |                      |
| endDateTime   | Дата окончания | DateTime | Нет      |                      |
| startDate     | Дата начала    | DateTime | Нет      |                      |
| startDateTime | Дата начала    | DateTime | Нет      |                      |
| createdAt     | Дата создания  | DateTime | Нет      |                      |
| createdBy     | Создатель      | User     | Да       | display              |
| board         | Доска          | Board    | Да       | name                 |



## User

Атрибут по умолчанию - display

| Атрибут              | Сопоставление         | Тип     | Сложный? | Атрибут по умолчанию |
| -------------------- | --------------------- | ------- | -------- | -------------------- |
| self                 | Адрес ресурса         | String  | Нет      |                      |
| id                   | ID пользователя       | String  | Нет      |                      |
| login                | Логин                 | String  | Нет      |                      |
| cloudUid             | Cloud ID              | String  | Нет      |                      |
| firstName            | Имя                   | String  | Нет      |                      |
| lastName             | Фамилия               | String  | Нет      |                      |
| display              | Полное имя            | String  | Нет      |                      |
| email                | email                 | String  | Нет      |                      |
| firstLoginDate       | Дата первого входа    | String  | Нет      |                      |
| lastLoginDate        | Дата последнего входа | String  | Нет      |                      |
| uid                  | uid                   | Number  | Нет      |                      |
| trackerUid           | trackerUid            | Number  | Нет      |                      |
| passportUid          | passportUid           | Number  | Нет      |                      |
| external             | external              | Boolean | Нет      |                      |
| hasLicense           | hasLicense            | Boolean | Нет      |                      |
| dismissed            | dismissed             | Boolean | Нет      |                      |
| useNewFilters        | useNewFilters         | Boolean | Нет      |                      |
| disableNotifications | disableNotifications  | Boolean | Нет      |                      |
| welcomeMailSent      | welcomeMailSent       | Boolean | Нет      |                      |

### Модификаторы



---
## Примеры

*В работе*


---

## Известные проблемы

*В работе*

---

## План развития

*В работе*

---
